{% if section.settings.link != blank %}
<a href='{{ section.settings.link }}'>
{% endif %}
 <div class="gg-marquee section-margin--{{section.settings.section_margin}} ">
        {%- for block in section.blocks -%}
        {%- case block.type -%}
            {%- when 'marquee-text' -%}
            <div data-type="text" class="color-{{ block.settings.color_scheme }} gradient " role="region" aria-label="{{ 'sections.header.announcement' | t }}" {{ block.shopify_attributes }}>
                {%- if block.settings.text != blank -%}
                {%- if block.settings.link != blank and section.settings.link == blank -%}
                    <a href="{{ block.settings.link }}" class="announcement-bar__link link link--text focus-inset animate-arrow">
                {%- endif -%}
                    <p class="announcement-bar__message text-2xl" style="color:{{ block.settings.font_color }}">
                        {{ block.settings.text | escape }}
                        {%- if block.settings.link != blank -%}
                        {% render 'icon-arrow' %}
                        {%- endif -%}
                    </p>
                {%- if block.settings.link != blank -%}
                    </a>
                {%- endif -%}
                {%- endif -%}
                </div>
        {%- when 'marquee-image' -%}
            <div data-href="{{ block.settings.link }}" data-type="image" class="color-{{ block.settings.color_scheme }} gradient " role="region" aria-label="{{ 'sections.header.announcement' | t }}" {{ block.shopify_attributes }}>
                {%- if block.settings.image != blank -%}
                {%- if block.settings.link != blank and section.settings.link == blank -%}
                    <a  class="announcement-bar__link link link--text focus-inset animate-arrow">
                {%- endif -%}
                    
                    {% render 'responsive-image', image: block.settings.image, custom_classes: 'overlay-img ' %}
                {%- if block.settings.link != blank -%}
                    </a>
                {%- endif -%}
                {%- endif -%}
                </div>  
        {% endcase %}
        {%- endfor -%}
  </div>
{% if section.settings.link != blank %}
</a>
{% endif %}
<script src="{{ 'marquee.js' | asset_url }}" defer="defer"></script>
{% style %}

.gg-marquee {
visibility:hidden;
height:100px;
position:relative;
min-width:10000px
}
.gg-marquee-initialized {
visibility: initial;
min-width:initial;
}
.gg-marquee > .gg-inner {
  display:block;
  height:100px;
  overflow:hidden;
  padding:0;
  position:absolute;
  white-space:nowrap;
}
.gg-marquee > * {
  position:absolute;
}
.gg-marquee img, .gg-marquee picture {
  height:100%;
  object-fit:contain;
}
.gg-marquee > *, .gg-inner > * {
  display:inline-flex;
  align-items: center;
  padding: 0 70px;
  white-space: nowrap;
  height:100%;
}
.gg-alternate-inner {
  transform: translateX(100%);
}
{% endstyle %}
{% schema %}
{
  "name": "Marquee",
  "max_blocks": 12,
  "settings": [
  {
    "type": "url",
    "id": "link",
    "label": "Full Marquee Link"
  },
  {
    "type": "radio",
    "id": "section_margin",
    "label": "Section Margin",
    "info": "Defines the margin between this section and the one above it.",
    "options": [
      { "value": "none", "label": "None" },
      { "value": "small", "label": "Small" },
      { "value": "medium", "label": "Medium" },
      { "value": "large", "label": "Large" }
    ],
    "default": "large"
  },
  {
    "type": "radio",
    "id": "height",
    "label": "Section Height",
    "info": "Select the height of your content",
    "options": [
      { "value": "small", "label": "Small" },
      { "value": "medium", "label": "Medium" },
      { "value": "large", "label": "Large" },
      { "value": "extra-large", "label": "Extra Large" }
    ],
    "default": "medium"
  }
  ],
  "blocks": [
    {
      "type": "marquee-text",
      "name": "Marquee Text",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Collection  1 Now Available",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.text.label"
        },
        {
          "type":      "color",
          "id":        "font_color",
          "label":     "BG / Highlighter Color",
          "default":   "#fff"
        },
        {
          "type": "select",
          "id": "color_scheme",
          "options": [
            {
              "value": "background-1",
              "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__1.label"
            },
            {
              "value": "background-2",
              "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__2.label"
            },
            {
              "value": "inverse",
              "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__3.label"
            },
            {
              "value": "accent-1",
              "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__4.label"
            },
            {
              "value": "accent-2",
              "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__5.label"
            }
          ],
          "default": "accent-1",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.label"
        },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.link.label"
        }
      ]
    },
    {

        "type": "marquee-image",
        "name": "Marquee Image",
        "settings": [
          {
            "type": "select",
            "id": "color_scheme",
            "options": [
              {
                "value": "background-1",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__1.label"
              },
              {
                "value": "background-2",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__2.label"
              },
              {
                "value": "inverse",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__3.label"
              },
              {
                "value": "accent-1",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__4.label"
              },
              {
                "value": "accent-2",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.options__5.label"
              }
            ],
            "default": "accent-1",
            "label": "t:sections.announcement-bar.blocks.announcement.settings.color_scheme.label"
          },
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.announcement-bar.blocks.announcement.settings.link.label"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": {
              "cs": "Obrázek",
              "da": "Billede",
              "de": "Foto",
              "en": "Image",
              "es": "Imagen",
              "fi": "Kuva",
              "fr": "Image",
              "it": "Immagine",
              "ja": "画像",
              "ko": "이미지",
              "nb": "Bilde",
              "nl": "Afbeelding",
              "pl": "Obraz",
              "pt-BR": "Imagem",
              "pt-PT": "Imagem",
              "sv": "Bild",
              "th": "รูปภาพ",
              "tr": "Görsel",
              "vi": "Hình ảnh",
              "zh-CN": "图片",
              "zh-TW": "圖片"
            }
          }
        ]
    }
  ],
  "presets": [
    {
        "name": "Marquee",
        "category": "marquee"
    }
  ]
}
{% endschema %}
{% style %}


.marquee {
  width: 100%;
  height:30px;
  overflow: hidden;
  position: relative;
  display:block;
}
.announcement-bar {
  height: 100%;
  display:inline-block;
  float: left;
  width: 25%;
}
.marquee > div {
  display: block;
  width: 200%;
  height: 30px;

  position: absolute;
  overflow: hidden;

  animation: marquee 10s linear infinite;
}
@media screen and (min-width:1200px) {
  .marquee > div {
    animation: marquee 16s linear infinite;
    
  }
}
.marquee a, .marquee p {
 
}

@keyframes marquee {
  0% { left: 0; }
  100% { left: -100%; }
}
{% endstyle %}
